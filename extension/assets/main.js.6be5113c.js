import{_ as E,c as y,a as c,b as n,n as A,u as d,F as _,o,d as h,e as C,t as u,r as g,f as L,p as $,g as k,h as q,i as T,j as x,k as w}from"./plugin-vue_export-helper.ee8e1f3c.js";const O={loadAtStart:!0,modifyEngravings:!0,displayQuality:!0,loadElixirs:!0},B={0:"black",10:"rgb(255, 96, 0)",30:"rgb(255, 210, 0)",70:"rgb(145, 254, 2)",90:"rgb(0, 181, 255)",99:"rgb(206, 67, 252)",100:"rgb(254, 150, 0)"};const I=["src"],M={class:"bar"},V={__name:"QualityBar",props:{quality:Number,url:String},setup(e){const t=e,l=y(()=>({backgroundColor:function(){let i;switch(!0){case t.quality===0:i=0;break;case t.quality<10:i=10;break;case t.quality<30:i=30;break;case t.quality<70:i=70;break;case t.quality<90:i=90;break;case t.quality<100:i=99;break;case t.quality===100:i=100;break}return B[i]}(),width:t.quality!==0?t.quality+"%":"100%"}));return(i,a)=>(o(),c(_,null,[n("img",{src:t.url,alt:""},null,8,I),n("div",M,[n("div",{class:"quality",style:A(d(l))},null,4)])],64))}};var F=E(V,[["__scopeId","data-v-134fb2fd"]]);function G(){let e={};const t=document.querySelectorAll(".profile-equipment__slot>div");e=JSON.parse(document.querySelector("#profile-ability > script").innerText.replace(/.+\{/,"[{").replace(/;\n$/,"]")),t.forEach(l=>{if(l.classList.length===1&&parseInt(l.className.replace(/slot(\d+)$/,"$1"))<=11){let i=l.getAttribute("data-item"),a=parseInt(e[0].Equip[i].Element_001.value.qualityValue);l.style.flexWrap="wrap",h(F,{quality:a,url:l.firstElementChild.getAttribute("src")}).mount(l)}})}const Q=["\u0418\u0437\u043D\u043E\u0441","\u0420\u0436\u0430\u0432\u0447\u0438\u043D\u0430","\u041C\u0435\u0434\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C","\u041C\u0438\u0440\u043E\u043B\u044E\u0431\u0438\u0435"],D={"\u041F\u0440\u0435\u0437\u0440\u0435\u043D\u0438\u0435 \u043A \u0441\u043B\u0430\u0431\u044B\u043C":"/achieve/achieve_04_30.png",\u0421\u0442\u0440\u0435\u043C\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C:"/buff/buff_65.png","\u0427\u0430\u0441 \u0436\u0430\u0442\u0432\u044B":"/buff/buff_74.png",\u0411\u0440\u0430\u0432\u0430\u0434\u0430:"/buff/buff_105.png",\u0422\u0438\u0442\u0430\u043D\u043E\u0431\u043E\u0440\u0435\u0446:"/buff/buff_71.png","\u041C\u0430\u0441\u0442\u0435\u0440 \u043F\u043E\u0434\u0433\u043E\u0442\u043E\u0432\u043A\u0438":"/achieve/achieve_06_14.png","\u041D\u0435\u0441\u043E\u043A\u0440\u0443\u0448\u0438\u043C\u044B\u0439 \u0431\u043E\u0435\u0446":"/buff/buff_44.png","\u0421\u043E\u0431\u0438\u0440\u0430\u0442\u0435\u043B\u044C \u0434\u0443\u0448":"/buff/buff_18.png","\u041E\u0431\u043C\u0430\u043D \u0441\u043C\u0435\u0440\u0442\u0438":"/buff/buff_162.png",\u041C\u043E\u0440\u0433\u0435\u043D\u0448\u0442\u0435\u0440\u043D:"/achieve/achieve_03_40.png",\u0418\u0441\u0441\u0435\u0447\u0435\u043D\u0438\u0435:"/buff/buff_168.png","\u0418\u0441\u0442\u043E\u0447\u043D\u0438\u043A \u043C\u0430\u043D\u044B":"/buff/buff_122.png","\u0410\u0441\u0442\u0440\u0430\u043B\u044C\u043D\u043E\u0435 \u0442\u0435\u043B\u043E":"/buff/buff_166.png","\u041C\u043E\u043B\u043D\u0438\u0435\u043D\u043E\u0441\u043D\u044B\u0435 \u0440\u0435\u0444\u043B\u0435\u043A\u0441\u044B":"/buff/buff_10.png",\u041D\u0435\u0443\u0442\u043E\u043C\u0438\u043C\u043E\u0441\u0442\u044C:"/buff/buff_66.png","\u0422\u0430\u043A\u0442\u0438\u0447\u0435\u0441\u043A\u043E\u0435 \u043F\u0440\u0435\u0432\u043E\u0441\u0445\u043E\u0434\u0441\u0442\u0432\u043E":"/buff/buff_83.png","\u0420\u0430\u0437\u0440\u0443\u0448\u0438\u0442\u0435\u043B\u044C \u0449\u0438\u0442\u043E\u0432":"/buff/buff_89.png","\u0421\u0442\u0430\u043B\u044C\u043D\u044B\u0435 \u043D\u0435\u0440\u0432\u044B":"/buff/buff_147.png","\u0411\u043E\u0436\u0435\u0441\u0442\u0432\u0435\u043D\u043D\u0430\u044F \u0437\u0430\u0449\u0438\u0442\u0430":"/buff/buff_229.png","\u0422\u044F\u0436\u0435\u043B\u0430\u044F \u0431\u0440\u043E\u043D\u044F":"/buff/buff_46.png",\u0413\u0440\u0435\u043D\u0430\u0434\u0435\u0440:"/buff/buff_121.png","\u041E\u0442\u0440\u0430\u0436\u0430\u044E\u0449\u0438\u0439 \u0431\u0430\u0440\u044C\u0435\u0440":"/buff/buff_239.png","\u0422\u0435\u043C\u043D\u044B\u0439 \u043F\u0430\u043A\u0442":"/buff/buff_29.png",\u0417\u0430\u0441\u0430\u0434\u0430:"/achieve/achieve_08_62.png",\u0411\u0435\u0441\u043F\u043E\u0449\u0430\u0434\u043D\u043E\u0441\u0442\u044C:"/buff/buff_94.png","\u0413\u0440\u043E\u0437\u043E\u0432\u0430\u044F \u0431\u0443\u0440\u044F":"/buff/buff_191.png",\u0413\u043E\u043B\u0435\u043C:"/buff/buff_237.png","\u041F\u043E\u0431\u0435\u0434\u043D\u0430\u044F \u044D\u0439\u0444\u043E\u0440\u0438\u044F":"/buff/buff_136.png","\u0411\u0435\u0441\u0448\u0443\u043C\u043D\u044B\u0439 \u0443\u0431\u0438\u0439\u0446\u0430":"/buff/buff_148.png","\u0411\u0435\u0437\u043C\u044F\u0442\u0435\u0436\u043D\u044B\u0439 \u0434\u0443\u0445":"/buff/buff_63.png","\u041B\u0443\u0447\u0448\u0430\u044F \u0437\u0430\u0449\u0438\u0442\u0430":"/buff/buff_170.png","\u041D\u0435\u0443\u0442\u043E\u043C\u0438\u043C\u044B\u0439 \u043D\u0430\u0442\u0438\u0441\u043A":"/buff/buff_210.png","\u041D\u043E\u0432\u044B\u0439 \u0440\u0430\u0441\u0441\u0432\u0435\u0442":"/buff/buff_113.png",\u0413\u0438\u043B\u044C\u043E\u0442\u0438\u043D\u0430:"/ability/ability_224.png","\u041A\u0430\u0440\u0430\u044E\u0449\u0430\u044F \u0434\u043B\u0430\u043D\u044C":"/ability/ability_231.png","\u041E\u0431\u043C\u0430\u043D\u043D\u044B\u0439 \u043C\u0430\u043D\u0435\u0432\u0440":"/ability/ability_232.png",\u041F\u043E\u0431\u043E\u0438\u0449\u0435:"/ability/ability_233.png",\u041F\u0410\u041D\u0418\u041A\u0410:"/ability/ability_234.png",\u0410\u0434\u0440\u0435\u043D\u0430\u043B\u0438\u043D:"/ability/ability_235.png","\u0421\u043A\u043E\u0440\u043E\u0442\u0435\u0447\u043D\u0430\u044F \u0440\u0430\u0441\u043F\u0440\u0430\u0432\u0430":"/ability/ability_236.png",\u0417\u0430\u0441\u0442\u0443\u043F\u043D\u0438\u043A:"/ability/ability_237.png","\u0421\u043A\u043E\u0440\u0430\u044F \u043F\u043E\u043C\u043E\u0449\u044C":"/ability/ability_238.png",\u0421\u043A\u0430\u043B\u044C\u043F\u0435\u043B\u044C:"/ability/ability_239.png","\u0422\u0451\u043C\u043D\u043E\u0435 \u0431\u0435\u0437\u0440\u0430\u0441\u0441\u0443\u0434\u0441\u0442\u0432\u043E":"/ability/ability_270.png",\u0411\u0435\u0437\u0440\u0430\u0441\u0441\u0443\u0434\u0441\u0442\u0432\u043E:"/ability/ability_269.png",\u0423\u043D\u0438\u0432\u0435\u0440\u0441\u0430\u043B:"/ability/ability_242.png","\u041F\u0438\u0441\u0442\u043E\u043B\u0435\u0442\u044B \u0438 \u043F\u0443\u043B\u0438":"/buff/buff_600.png","\u041A\u0438\u0431\u0435\u0440-\u0441\u043E\u043B\u0434\u0430\u0442":"/ability/ability_271.png",\u0411\u043E\u043C\u0431\u0430\u0440\u0434\u0438\u0440\u043E\u0432\u043A\u0430:"/gl_skill/gl_skill_01_26.png","\u0420\u0432\u0435\u043D\u0438\u0435 \u0437\u0430\u0449\u0438\u0442\u043D\u0438\u043A\u0430":"/ability/ability_266.png","\u0413\u0435\u0440\u043E\u0439-\u043E\u0434\u0438\u043D\u043E\u0447\u043A\u0430":"/ability/ability_267.png","\u0427\u0435\u0442\u0432\u0435\u0440\u0442\u0430\u044F \u0447\u0430\u043A\u0440\u0430":"/buff/buff_238.png",\u041F\u0435\u0440\u0435\u0440\u043E\u0436\u0434\u0435\u043D\u0438\u0435:"/ability/ability_25.png","\u0418\u0437\u0431\u0440\u0430\u043D\u043D\u044B\u0439 \u043F\u0443\u0442\u044C":"/achieve/achieve_07_22.png","\u041B\u0438\u043A\u0443\u044E\u0449\u0438\u0439 \u0434\u0443\u0445":"/buff/buff_177.png","\u041A\u0430\u043D\u0442\u0430\u0442\u0430 \u0434\u043E\u0431\u043B\u0435\u0441\u0442\u0438":"/ability/ability_275.png",\u042D\u043A\u0441\u0442\u0430\u0437:"/ability/ability_276.png","\u0413\u0440\u0430\u0432\u0438\u0442\u0430\u0446\u0438\u043E\u043D\u043D\u043E\u0435 \u0441\u0436\u0430\u0442\u0438\u0435":"/achieve/achieve_08_49.png","\u0421\u0442\u0430\u0431\u0438\u043B\u044C\u043D\u0430\u044F \u0433\u0440\u0430\u0432\u0438\u0442\u0430\u0446\u0438\u044F":"/ability/ability_268.png","\u041C\u0443\u0434\u0440\u043E\u0441\u0442\u044C \u042D\u043D\u0432\u0438\u0441\u0441\u044B":"/buff/buff_78.png","\u0427\u0430\u0440\u043E\u0434\u0435\u0439\u0441\u043A\u0430\u044F \u0433\u0435\u043D\u0438\u0430\u043B\u044C\u043D\u043E\u0441\u0442\u044C":"/ability/ability_274.png",\u0418\u043C\u043F\u0435\u0440\u0430\u0442\u0440\u0438\u0446\u0430:"/ability/ability_272.png",\u0418\u043C\u043F\u0435\u0440\u0430\u0442\u043E\u0440:"/ability/ability_273.png",\u041C\u0435\u0434\u0438\u0442\u0430\u0446\u0438\u044F:"/buff/buff_235.png","\u0412\u043E\u043F\u043B\u043E\u0449\u0435\u043D\u0438\u0435 \u0421\u0438\u043B\u044B":"/ability/ability_45.png","\u0412\u0442\u043E\u0440\u0430\u044F \u043C\u043E\u0434\u0435\u043B\u044C":"/ability/ability_47.png","\u041F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0439 \u043F\u043E\u043B\u0435\u0442":"/buff/buff_245.png","\u041F\u0440\u0435\u0432\u043E\u0441\u0445\u043E\u0434\u0441\u0442\u0432\u043E \u0441\u0432\u0435\u0442\u0438\u043B":"/ability/ability_207.png",\u041F\u043E\u043B\u043D\u043E\u043B\u0443\u043D\u0438\u0435:"/ability/ability_208.png","\u041E\u0441\u0442\u0430\u0442\u043E\u0447\u043D\u0430\u044F \u044D\u043D\u0435\u0440\u0433\u0438\u044F":"/ability/ability_209.png","\u0422\u0432\u0435\u0440\u0434\u0430\u044F \u0432\u043E\u043B\u044F":"/ability/ability_210.png","\u0410\u0431\u0441\u043E\u043B\u044E\u0442\u043D\u044B\u0439 \u043A\u043E\u043D\u0442\u0440\u043E\u043B\u044C":"/ability/ability_211.png","\u0422\u0435\u043C\u043D\u0430\u044F \u0441\u0442\u043E\u0440\u043E\u043D\u0430":"/ability/ability_212.png","\u041C\u0430\u0441\u0442\u0435\u0440-\u0444\u0435\u0445\u0442\u043E\u0432\u0430\u043B\u044C\u0449\u0438\u043A":"/ability/ability_214.png","\u0418\u0441\u0446\u0435\u043B\u044F\u044E\u0449\u0430\u044F \u0432\u0435\u0440\u0430":"/ability/ability_215.png","\u0422\u0435\u0445\u043D\u043E\u043B\u043E\u0433\u0438\u044F \u0410\u0440\u0434\u0435\u0442\u0430\u0439\u043D\u0430":"/ability/ability_216.png","\u041D\u0430\u0441\u043B\u0435\u0434\u0438\u0435 \xAB\u0413\u0435\u043D\u0435\u0437\u0438\u0441\u0430\xBB":"/ability/ability_217.png",\u0416\u0430\u0436\u0434\u0430:"/ability/ability_222.png","\u0413\u043E\u043B\u043E\u0441 \u043B\u0443\u043D\u044B":"/ability/ability_223.png",\u041C\u0438\u0440\u043E\u0442\u0432\u043E\u0440\u0435\u0446:"/ability/ability_225.png",\u041E\u0442\u0441\u0442\u0440\u0435\u043B:"/ability/ability_228.png","\u0412\u0430-\u0431\u0430\u043D\u043A":"/ability/ability_230.png","\u0411\u0430\u043B\u0430\u043D\u0441 \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432":"/ability/ability_229.png","\u041E\u0431\u043E\u0441\u0442\u0440\u0451\u043D\u043D\u044B\u0435 \u0447\u0443\u0432\u0441\u0442\u0432\u0430":"/ability/ability_240.png","\u041E\u0441\u043E\u0437\u043D\u0430\u043D\u043D\u044B\u0439 \u0434\u0438\u0441\u0441\u043E\u043D\u0430\u043D\u0441":"/ability/ability_241.png","\u041A\u0440\u0443\u0433\u043E\u0432\u043E\u0440\u043E\u0442 \u0441\u0432\u0435\u0442\u0438\u043B":"/ability/ability_248.png","\u0412\u0435\u0441\u0435\u043D\u043D\u0438\u0439 \u0440\u0430\u0441\u0441\u0432\u0435\u0442":"/ability/ability_249.png","\u041F\u043E\u0432\u0435\u043B\u0438\u0442\u0435\u043B\u044C \u0431\u0443\u0440\u0438":"/ability/ability_258.png","\u0421\u0435\u0437\u043E\u043D \u0434\u043E\u0436\u0434\u0435\u0439":"/ability/ability_259.png",\u0425\u0438\u0449\u043D\u0438\u0446\u0430:"/ability/ability_260.png","\u0412\u043E\u043B\u044F \u043F\u0430\u043B\u0430\u0447\u0430":"/ability/ability_261.png","\u0411\u043B\u0435\u0434\u043D\u0430\u044F \u043B\u0443\u043D\u0430":"/ability/ability_263.png","\u0423\u0437\u044B \u0441\u0443\u0434\u044C\u0431\u044B":"/ability/ability_264.png",\u0418\u0437\u043D\u043E\u0441:"/ability/ability_219.png",\u041C\u0435\u0434\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C:"/ability/ability_221.png",\u0420\u0436\u0430\u0432\u0447\u0438\u043D\u0430:"/ability/ability_218.png",\u041C\u0438\u0440\u043E\u043B\u044E\u0431\u0438\u0435:"/ability/ability_220.png"};const R={style:{display:"flex","align-items":"center","justify-content":"space-between"}},j={style:{display:"flex","align-items":"center",gap:"8px"}},H={class:"engraving-image"},U=["src"],z={class:"engraving-text"},J={class:"profile-ability-tooltip"},P={__name:"Engraving",props:{name:String,level:Number,tooltipText:String},setup(e){const t=e,l=a=>"https://static.monopoly.la.gmru.net/efui_iconatlas"+D[a],i=y(()=>Q.includes(t.name));return(a,r)=>(o(),c(_,null,[n("div",R,[n("div",j,[n("div",H,[n("img",{src:l(t.name),class:"engraving-image-item"},null,8,U)]),n("span",{class:C([{"negative-engraving":d(i)},"engraving-text"])},u(t.name),3)]),n("span",z,u(t.level)+" \u0443\u0440. ",1)]),n("div",J,[n("p",null,u(t.tooltipText),1)])],64))}};var W=E(P,[["__scopeId","data-v-4cd3fba5"]]);const X=e=>($("data-v-c3565686"),e=e(),k(),e),Z=X(()=>n("h4",null,"\u0413\u0440\u0430\u0432\u0438\u0440\u043E\u0432\u043A\u0438",-1)),K={class:"swiper-container"},Y={class:"swiper-wrapper"},tt={class:"swiper-slide"},et={class:"swiper-slide-item"},it={__name:"EngravingList",props:{engravingList:Array},setup(e){return(t,l)=>(o(),c(_,null,[Z,n("div",K,[n("div",Y,[n("ul",tt,[(o(!0),c(_,null,g(e.engravingList,i=>(o(),c("li",et,[L(W,{name:i.name,level:i.level,"tooltip-text":i.tooltipText},null,8,["name","level","tooltip-text"])]))),256))])])])],64))}};var at=E(it,[["__scopeId","data-v-c3565686"]]);function lt(){const e=document.querySelector(".profile-ability-engrave");e.style.height="auto";const t=document.querySelectorAll(".swiper-slide>li"),l=[];t.length>0&&t.forEach(i=>{let a=JSON.parse(i.firstElementChild.innerHTML.replace(/(.+)\s(\d) ур\./g,'{"name":"$1", "level":$2}'));a.tooltipText=i.lastElementChild.firstElementChild.innerText,l.push(a)}),h(at,{engravingList:l}).mount(e)}const nt=["src","alt"],rt={__name:"Character",props:{character:Object},setup(e){const t=e,l=a=>{location.href=`/Profile/Character/${a}`},i=q(null);return T(()=>{chrome.runtime.sendMessage({type:"load-for-class",message:t.character.characterClass,nickname:t.character.name},a=>{i.value=a==null?void 0:a.placement})}),(a,r)=>(o(),c("span",null,[n("button",{type:"button",onClick:r[0]||(r[0]=s=>l(e.character.name))},[n("img",{src:e.character.img,alt:e.character.characterClass},null,8,nt),n("span",null,u(e.character.name)+"("+u(e.character.gs)+")",1),x(" \u0420\u0435\u0439\u0442\u0438\u043D\u0433: "+u(i.value||"\u041D\u0435 \u0432 \u0440\u0435\u0439\u0442\u0438\u043D\u0433\u0435"),1)])]))}},st={__name:"CharacterList",props:{characterList:Array},setup(e){const t=e,l=y(()=>t.characterList.sort((i,a)=>+i.gs<+a.gs?1:+i.gs>+a.gs?-1:0));return(i,a)=>(o(!0),c(_,null,g(d(l),(r,s)=>(o(),c("li",{key:s+"ch"},[L(rt,{character:r},null,8,["character"])]))),128))}};function ct(e){const t={};var l=0;e.forEach(a=>{chrome.runtime.sendMessage({type:"load-character-info",name:a.name},r=>{t[a.name]={gs:r.gs},++l})});var i=setInterval(function(){document&&l===e.length&&(clearInterval(i),ot(t))},30)}const ot=e=>{const t=[];document.querySelectorAll("#expand-character-list > ul").forEach((i,a)=>{t.push([]),Array.from(i.children).forEach(r=>{const s={},p=r.querySelector("button span").textContent;s.name=p,s.gs=e[p].gs,s.characterClass=r.querySelector("button img").getAttribute("alt"),s.img=r.querySelector("button img").getAttribute("src"),t[a].push(s)}),h(st,{characterList:t[a]}).mount(i)})},ut=["\u0428\u043B\u0435\u043C","\u041D\u0430\u043F\u043B\u0435\u0447\u043D\u0438\u043A\u0438","\u0414\u043E\u0441\u043F\u0435\u0445","\u041F\u043E\u043D\u043E\u0436\u0438","\u041F\u0435\u0440\u0447\u0430\u0442\u043A\u0438"],_t=5,bt=[".slot14",".slot15"],pt=e=>{e.forEach(t=>{document.querySelector(t).remove()})};const ft={class:"elixir-block-ext"},gt={class:"elixirs-wrapper-ext"},yt={class:"elixirs-wrapper-ext-header"},dt=n("span",{style:{"font-size":"15px","line-height":"15px"}},"\u042D\u043B\u0438\u043A\u0441\u0438\u0440\u044B",-1),ht={class:"elixirs-wrapper-ext-items-block"},mt={key:0,class:"elixirs-wrapper-ext-items-info"},vt={style:{"margin-bottom":"8px"}},xt={style:{color:"#e4ba27"}},Et={style:{color:"#e4ba27"}},St={__name:"Elixir",props:{elixirs:Array},setup(e){const t=e,l=a=>{let r=0;return a.forEach(s=>{r+=+s.elixirLevel}),r},i=y(()=>{let a=0;return t.elixirs.forEach(r=>{r.elixirs.forEach(s=>{a+=+s.elixirLevel})}),a});return(a,r)=>(o(),c("div",ft,[n("div",gt,[n("div",yt,[dt,n("span",null,"\u0423\u0440\u043E\u0432\u0435\u043D\u044C: "+u(d(i)),1)]),n("div",ht,[(o(!0),c(_,null,g(e.elixirs,(s,p)=>(o(),c("div",{key:"el"+p,class:"elixirs-wrapper-ext-items"},[n("span",null,u(s.itemName),1),n("span",null,u(l(s.elixirs))+" \u0443\u0440.",1),s.elixirs.length?(o(),c("div",mt,[(o(!0),c(_,null,g(s.elixirs,(b,m)=>(o(),c("div",{key:"ei"+m,style:{"margin-bottom":"16px"}},[n("div",vt,[n("span",xt,u(b.elixirType),1),x(" "+u(b.elixirName)+" ",1),n("span",Et,u(b.elixirLevel),1),x(" \u0443\u0440. ")]),(o(!0),c(_,null,g(b.elixirEffect,(v,N)=>(o(),c("div",{key:"ef"+N,class:"elixirs-wrapper-ext-items-info-effect"},u(v),1))),128))]))),128))])):w("",!0)]))),128))])])]))}};function Lt(e){let t=0;chrome.runtime.sendMessage({type:"load-character-info",name:e},i=>{t=i.gs});var l=setInterval(function(){document&&t>0&&(clearInterval(l),+t>=1600&&Nt())},10)}function Nt(){const e=document.querySelectorAll(".profile-equipment__slot>div"),[t]=JSON.parse(document.querySelector("#profile-ability > script").innerText.replace(/.+\{/,"[{").replace(/;\n$/,"]")),l=[];e.forEach(i=>{const a=i.classList.length===1&&+i.className.replace(/slot(\d+)$/,"$1");if(Number.isInteger(a)&&a<=_t){const r=i.getAttribute("data-item"),s=t.Equip[r],p=ut[a-1],b=$t(s),m=b&&Object.values(b).map(v=>At(v.contentStr))||[];l.push({itemName:p,elixirs:m})}}),h(St,{elixirs:l}).mount(Ct())}const At=e=>{try{const t=e.match(/<\/FONT>(.*)<FONT color='#FFD200'>(.*)/),[,l,i]=t,a=[...i.split("<br>")[1].split("<BR>")],[r]=e.match(/\[(.*)\]/);return{elixirLevel:+i[0]||0,elixirName:l.trim(),elixirType:r,elixirEffect:a}}catch(t){console.error(t)}},Ct=()=>{const e=document.querySelector("#profile-equipment"),t=document.createElement("div");return t.classList.add("elixir-block"),e.appendChild(t),pt(bt),t},$t=e=>{try{const t=[e==null?void 0:e.Element_007.value,e==null?void 0:e.Element_008.value,e==null?void 0:e.Element_009.value].find(l=>{var i,a;return(a=(i=l==null?void 0:l.Element_000)==null?void 0:i.topStr)==null?void 0:a.startsWith("<FONT SIZE='12' COLOR='#A9D0F5'>\u042D\u0444\u0444\u0435\u043A\u0442\u044B \u044D\u043B\u0438\u043A\u0441\u0438\u0440\u0430")});return t?t.Element_000.contentStr:null}catch(t){return console.error(t),null}};let f={},S=[];async function kt(){await chrome.storage.sync.get().then(e=>{Object.assign(f,O,e)})}try{document.querySelectorAll("#expand-character-list > ul > li").forEach(t=>{S.push({name:t.querySelector("button span").textContent,class:t.querySelector("button img").getAttribute("alt")})});const e=document.querySelector(".profile-character-info__name").innerHTML;kt().then(()=>{f.loadElixirs&&Lt(e),f.loadAtStart&&ct(S),f.displayQuality&&G(),f.modifyEngravings&&lt()})}catch(e){console.error(e)}
